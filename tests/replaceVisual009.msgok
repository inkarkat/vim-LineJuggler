Replaced 3 lines with 9 lines
